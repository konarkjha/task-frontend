<ngx-spinner
  [bdColor]="spinnerConfigs.BDCOLOR"
  [size]="spinnerConfigs.SIZE"
  [color]="spinnerConfigs.COLOR"
  [type]="spinnerConfigs.TYPE"
  [fullScreen]="spinnerConfigs.FULLSCREEN"
>
  <p [style.color]="spinnerConfigs.SPINNER_TEXT_COLOR">
    {{ spinnerConfigs.SPINNER_TEXT }}
  </p>
</ngx-spinner>

<!-- <ngx-spinner></ngx-spinner> -->

<!-- Login screen -->

<form #loginForm="ngForm">
  <div class="loginCont" *ngIf="logIn">
    <div class="col-md-12 inputCont my-3">
      <input
        autocomplete="off"
        name="email"
        class="w-100"
        #email="ngModel"
        [(ngModel)]="formUser.name"
        type="text"
        placeholder="Enter the email"
      />
    </div>
    <div>OR</div>
    <div class=" col-md-12 inputCont mt-3">
      <input
        autocomplete="off"
        name="contactNumber"
        #contactNumber="ngModel"
        [(ngModel)]="formUser.contactNumber"
        type="number"
        class=" w-100"
        placeholder="Enter the Mobile Number"
      />
    </div>
    <div class=" col-md-12 inputCont my-3">
      <input
        autocomplete="off"
        name="password"
        class="w-100 bg-white"
        #password="ngModel"
        [(ngModel)]="formUser.password"
        type="password"
        placeholder="Enter the password"
      />
    </div>
    <div class="btn otpBtn pt-1" (click)="login(loginForm.value)">Login</div>

    <div class="fLeft mt-2 fs14">
      Are you a new member ?
      <span style="cursor: pointer;" (click)="openAnyPopUp('signUp', false)"
        >SignUp</span
      >
    </div>
  </div>
</form>

<!-- Sign up screen -->
<form #signupForm="ngForm">
  <!-- <form [formGroup]="signupForm"> -->
  <div class="loginCont" *ngIf="signUp">
    <div class="col-md-12 inputCont mt-4">
      <input
        autocomplete="off"
        name="name"
        #name="ngModel"
        class="w-100"
        [class.is-invalid]="name.invalid && (name.dirty || name.touched)"
        [(ngModel)]="formUser.fullName"
        type="text"
        placeholder="Enter the Full Name"
        required
        minlength="4"
      />
    </div>
    <div
      *ngIf="name.invalid && (name.dirty || name.touched)"
      class="alert alert-danger"
    >
      <small *ngIf="name.errors.required">
        Name is required.
      </small>
      <small *ngIf="name.errors.minlength">
        Name must be at least 4 characters long.
      </small>
    </div>
    <div class="col-md-12 inputCont mt-4">
      <input
        autocomplete="off"
        name="password"
        #password="ngModel"
        class="w-100"
        [class.is-invalid]="
          password.invalid && (password.dirty || password.touched)
        "
        [(ngModel)]="formUser.password"
        type="password"
        placeholder="Enter the password"
        required
        minlength="6"
        maxlength="16"
        pattern="^(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,10}$"
      />
    </div>
    <div
      *ngIf="password.invalid && (password.dirty || password.touched)"
      class="alert alert-danger"
    >
      <small *ngIf="password.errors.required">
        password is required.
      </small>
      <small *ngIf="password.errors.pattern">
        Password should of min length 6 and max length 16 containing atleast 1
        Uppercase, 1 number, 1 symbol
      </small>
    </div>
    <div class=" col-md-12 inputCont mt-4">
      <input
        autocomplete="off"
        name="email"
        #email="ngModel"
        [class.is-invalid]="email.invalid && (email.dirty || email.touched)"
        [(ngModel)]="formUser.email"
        type="email"
        class=" w-100"
        placeholder="Enter the Email-ID"
        required
        pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$"
        maxlength="50"
      />
    </div>
    <div
      *ngIf="email.invalid && (email.dirty || email.touched)"
      class="alert alert-danger"
    >
      <small *ngIf="email.errors.required">
        email is required.
      </small>
      <small *ngIf="email.errors.pattern">
        Email must be a valid email address
      </small>
    </div>
    <div class=" col-md-12 inputCont mt-4">
      <input
        autocomplete="off"
        name="contactNumber"
        #contactNumber="ngModel"
        [class.is-invalid]="
          contactNumber.invalid &&
          (contactNumber.dirty || contactNumber.touched)
        "
        [(ngModel)]="formUser.contactNumber"
        type="number"
        class=" w-100"
        placeholder="Enter the Mobile Number"
        required
        pattern="^[6-9][0-9]*$"
        maxlength="10"
        onKeyPress="if(this.value.length==10) return false;"
      />
    </div>
    <div
      *ngIf="
        contactNumber.invalid && (contactNumber.dirty || contactNumber.touched)
      "
      class="alert alert-danger"
    >
      <small *ngIf="contactNumber.errors.required">
        Mobile number is required.
      </small>
      <small *ngIf="contactNumber.errors.pattern">
        Phone enter valid 10 digits phone number
      </small>
    </div>

    <button class="btn otpBtn mt-4" (click)="register(signupForm.value)">
      SignUp
    </button>
    <div class="cursor fs14 mt-4" (click)="openAnyPopUp('logIn', true)">
      Already a member ? Login
    </div>
  </div>
</form>

<!-- Forgot password screen -->
<div class="loginCont" *ngIf="forgotPassScreen">
  <div class="fs20 text-center mt-3">Forgot password ?</div>
  <div class="col-md-12 inputCont mt-3">
    <input
      autocomplete="off"
      type="text"
      class=" w-100"
      [(ngModel)]="forgotNumber"
      placeholder="Please enter your registered mobile number"
    />
  </div>
  <div class="mt-3 text-center">OR</div>
  <div class="col-md-12 inputCont mt-3">
    <input
      autocomplete="off"
      type="email"
      class=" w-100"
      placeholder="Enter the registered Email-ID"
      [(ngModel)]="forgotEmail"
    />
  </div>
  <button class="btn otpBtn mt-3" (click)="forgotPass()">Submit</button>
  <div class="row mt-3">
    <div class="float-right col-md-12">
      <div class="float-right cursor" (click)="openAnyPopUp('logIn', true)">
        Back
      </div>
    </div>
  </div>
</div>

<!-- change password screen -->
<div class="loginCont" *ngIf="changePassScreen">
  <div class="fs20 text-center mt-3">Change your password</div>
  <div class="col-md-12 inputCont mt-3">
    <input
      autocomplete="off"
      type="password"
      class=" w-100"
      [(ngModel)]="newPassword"
      placeholder="New Password"
    />

    <!-- <div
      *ngIf="newPassword.invalid && (newPassword.dirty || newPassword.touched)"
      class="alert alert-danger"
    >
      <small *ngIf="newPassword.errors.required">
        password is required.
      </small>
      <small *ngIf="newPassword.errors.pattern">
        Password should of min length 6 and max length 16 containing atleast 1
        Uppercase, 1 number, 1 symbol
      </small>
    </div> -->
  </div>
  <div class="col-md-12 inputCont mt-3">
    <input
      autocomplete="off"
      type="password"
      class=" w-100"
      placeholder="Confirm New Password"
      [(ngModel)]="confirmNewPassword"
    />

    <!-- <div
      *ngIf="
        confirmNewPassword.invalid &&
        (confirmNewPassword.dirty || confirmNewPassword.touched)
      "
      class="alert alert-danger"
    >
      <small *ngIf="confirmNewPassword.errors.required">
        password is required.
      </small>
      <small *ngIf="confirmNewPassword.errors.pattern">
        Password should of min length 6 and max length 16 containing atleast 1
        Uppercase, 1 number, 1 symbol
      </small>
    </div> -->
  </div>
  <button class="btn otpBtn mt-3" (click)="changePasswordLogic()">
    Change my password
  </button>
  <div class="row mt-3">
    <div class="float-right col-md-12">
      <div
        class="float-right cursor"
        (click)="openAnyPopUp('forgotPassOtpScreen', true)"
      >
        Back
      </div>
    </div>
  </div>
</div>
